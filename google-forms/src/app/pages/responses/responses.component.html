<app-header />
@if (responses ) {
<cdk-accordion class="example-accordion">
  @for (response of responses.responses.formResponses; track response; let index
  = $index) {
  <cdk-accordion-item
    #accordionItem="cdkAccordionItem"
    class="example-accordion-item"
    role="button"
    tabindex="0"
    [attr.id]="'accordion-header-' + index"
    [attr.aria-expanded]="accordionItem.expanded"
    [attr.aria-controls]="'accordion-body-' + index"
  >
    <section
      class="example-accordion-item-header"
      (click)="accordionItem.toggle()"
    >
      {{ response.question }}
      <p class="example-accordion-item-description">
        Click to {{ accordionItem.expanded ? 'close' : 'open' }}
      </p>
    </section>
    <section
      class="example-accordion-item-body"
      role="region"
      [style.display]="accordionItem.expanded ? '' : 'none'"
      [attr.id]="'accordion-body-' + index"
      [attr.aria-labelledby]="'accordion-header-' + index"
    >
      <section class="full-response">
        @for (qAnswer of response.responses; track qAnswer) {
        <p>{{ qAnswer }}</p>
        }
      </section>
    </section>
  </cdk-accordion-item>
  } @empty {
  <p>{{ noDataMessage }}</p>
  }
</cdk-accordion>
} @else { }

